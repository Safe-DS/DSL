package tests.validation.other.expressions.arguments.argumentsMustBeConstantIfParameterIsConstant

fun myFunction() -> res: Int

fun myFunctionWithConstantParameter(
    const constantParam: Int
)

fun myFunctionWithNormalParameter(
    param: Int
)


pipeline testPipeline {
    // $TEST$ no error "Arguments assigned to constant parameters must be constant."
    myFunctionWithConstantParameter(»1«);
    // $TEST$ no error "Arguments assigned to constant parameters must be constant."
    myFunctionWithConstantParameter(»-2«);
    // $TEST$ error "Arguments assigned to constant parameters must be constant."
    myFunctionWithConstantParameter(»myFunction()«);
    // $TEST$ error "Arguments assigned to constant parameters must be constant."
    myFunctionWithConstantParameter(constantParam = »myFunction()«);

    // $TEST$ no error "Arguments assigned to constant parameters must be constant."
   myFunctionWithNormalParameter(»myFunction()«);
    // $TEST$ no error "Arguments assigned to constant parameters must be constant."
   myFunctionWithNormalParameter(param = »myFunction()«);

    // $TEST$ no error "Arguments assigned to constant parameters must be constant."
   unresolved(»myFunction()«);
    // $TEST$ no error "Arguments assigned to constant parameters must be constant."
   myFunctionWithConstantParameter(unresolved = »myFunction()«);
}
