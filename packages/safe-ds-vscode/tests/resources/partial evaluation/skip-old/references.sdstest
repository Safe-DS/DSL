package tests.partialEvaluation.references

pipeline successfulRecordAssignment {
    val lambda = () {
        yield result = 1;
    };
    val placeholder = lambda();

    placeholder;
}

pipeline failedRecordAssignment {
    val lambda = () {
        yield result = 1;
    };
    _, val placeholder = lambda();

    placeholder;
}

step myStep1() -> (a: Int, b: Int) {
    yield b = 1;
    yield a = 2;
}

pipeline recordAssignmentWithDifferentYieldOrder {
    val placeholder1, val placeholder2 = myStep1();

    placeholder1 - placeholder2;
}

step myStep2() -> (a: Int, b: Int) {
    yield b = 1;
}

pipeline recordAssignmentWithMissingYield {
    _, val placeholder = myStep2();

    placeholder;
}

step myStep3() -> (a: Int) {
    yield b = 2;
    yield a = 1;
}

pipeline recordAssignmentWithAdditionalYield {
    val placeholder = myStep3();

    placeholder;
}
