package tests.validation.other.declarations.parameterLists.mustNotMixOptionalAndVariadic

// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ error "A callable with optional parameters must not have a variadic parameter."
annotation MyAnnotation1(»a«: Int, »b«: Int = 1, »c«: Int, »d«: Int = 2, vararg »e«: Int)

// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
annotation MyAnnotation2(»a«: Int, vararg »b«: Int)

// $TEST$ error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ error "A callable with optional parameters must not have a variadic parameter."
annotation MyAnnotation3(vararg »a«: Int, »b«: Int = 1, vararg »c«: Int)


// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ error "A callable with optional parameters must not have a variadic parameter."
class MyClass1(»a«: Int, »b«: Int = 1, »c«: Int, »d«: Int = 2, vararg »e«: Int)

// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
class MyClass2(»a«: Int, vararg »b«: Int)

// $TEST$ error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ error "A callable with optional parameters must not have a variadic parameter."
class MyClass3(vararg »a«: Int, »b«: Int = 1, vararg »c«: Int)


enum MyEnum {
    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ error "A callable with optional parameters must not have a variadic parameter."
    MyEnumVariant1(»a«: Int, »b«: Int = 1, »c«: Int, »d«: Int = 2, vararg »e«: Int)

    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    MyEnumVariant2(»a«: Int, vararg »b«: Int)

    // $TEST$ error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ error "A callable with optional parameters must not have a variadic parameter."
    MyEnumVariant3(vararg »a«: Int, »b«: Int = 1, vararg »c«: Int)
}


// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ error "A callable with optional parameters must not have a variadic parameter."
fun myFunction1(»a«: Int, »b«: Int = 1, »c«: Int, »d«: Int = 2, vararg »e«: Int)

// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
fun myFunction2(»a«: Int, vararg »b«: Int)

// $TEST$ error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ error "A callable with optional parameters must not have a variadic parameter."
fun myFunction3(vararg »a«: Int, »b«: Int = 1, vararg »c«: Int)


// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ error "A callable with optional parameters must not have a variadic parameter."
segment mySegment1(»a«: Int, »b«: Int = 1, »c«: Int, »d«: Int = 2, vararg »e«: Int) {}

// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
segment mySegment2(»a«: Int, vararg »b«: Int) {}

// $TEST$ error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
// $TEST$ error "A callable with optional parameters must not have a variadic parameter."
segment mySegment3(vararg »a«: Int, »b«: Int = 1, vararg »c«: Int) {}


pipeline myPipeline {
    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ error "A callable with optional parameters must not have a variadic parameter."
    (»a«: Int, »b«: Int = 1, »c«: Int, »d«: Int = 2, vararg »e«: Int) {};

    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    (»a«: Int, vararg »b«: Int) {};

    // $TEST$ error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ error "A callable with optional parameters must not have a variadic parameter."
    (vararg »a«: Int, »b«: Int = 1, vararg »c«: Int) {};


    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ error "A callable with optional parameters must not have a variadic parameter."
    (»a«: Int, »b«: Int = 1, »c«: Int, »d«: Int = 2, vararg »e«: Int) -> 1;

    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    (»a«: Int, vararg »b«: Int) -> 1;

    // $TEST$ error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ error "A callable with optional parameters must not have a variadic parameter."
    (vararg »a«: Int, »b«: Int = 1, vararg »c«: Int) -> 1;
}


fun myFunction4(
    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ error "A callable with optional parameters must not have a variadic parameter."
    p1: (»a«: Int, »b«: Int = 1, »c«: Int, »d«: Int = 2, vararg »e«: Int) -> (),

    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    p2: (»a«: Int, vararg »b«: Int) -> (),

    // $TEST$ error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ no error "A callable with optional parameters must not have a variadic parameter."
    // $TEST$ error "A callable with optional parameters must not have a variadic parameter."
    p3: (vararg »a«: Int, »b«: Int = 1, vararg »c«: Int) -> (),
)
